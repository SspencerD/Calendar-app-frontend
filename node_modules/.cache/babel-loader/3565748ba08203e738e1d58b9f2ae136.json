{"ast":null,"code":"import { fetchWithoutToken } from '../components/helpers/fetch.js';\nimport { types } from '../types/types.js';\nexport const startLogin = (email, password) => {\n  return async () => {\n    const resp = await fetchWithoutToken('auth', {\n      email,\n      password\n    }, 'POST');\n    const body = await resp.json();\n\n    if (body.ok) {\n      localStorage.setItem('token', body.token);\n      localStorage.setItem('token-init-date', new Date().getTime());\n    }\n  };\n};\n\nconst login = user => ({\n  type: types.authLogin,\n  payload: user\n});","map":{"version":3,"sources":["/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/actions/auth.js"],"names":["fetchWithoutToken","types","startLogin","email","password","resp","body","json","ok","localStorage","setItem","token","Date","getTime","login","user","type","authLogin","payload"],"mappings":"AACA,SAASA,iBAAT,QAAkC,gCAAlC;AACA,SAASC,KAAT,QAAsB,mBAAtB;AAEA,OAAO,MAAMC,UAAU,GAAG,CAACC,KAAD,EAAOC,QAAP,KAAoB;AAE1C,SAAO,YAAW;AAEd,UAAMC,IAAI,GAAG,MAAML,iBAAiB,CAAE,MAAF,EAAU;AAACG,MAAAA,KAAD;AAAOC,MAAAA;AAAP,KAAV,EAA2B,MAA3B,CAApC;AACA,UAAME,IAAI,GAAG,MAAMD,IAAI,CAACE,IAAL,EAAnB;;AAEA,QAAGD,IAAI,CAACE,EAAR,EAAa;AAETC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BJ,IAAI,CAACK,KAAlC;AACAF,MAAAA,YAAY,CAACC,OAAb,CAAqB,iBAArB,EAAwC,IAAIE,IAAJ,GAAWC,OAAX,EAAxC;AAGH;AACJ,GAZD;AAaH,CAfM;;AAiBP,MAAMC,KAAK,GAAIC,IAAD,KAAU;AACpBC,EAAAA,IAAI,EAAEf,KAAK,CAACgB,SADQ;AAEpBC,EAAAA,OAAO,EAAEH;AAFW,CAAV,CAAd","sourcesContent":["\nimport { fetchWithoutToken } from '../components/helpers/fetch.js';\nimport { types } from '../types/types.js';\n\nexport const startLogin = (email,password) => {\n\n    return async() => {\n\n        const resp = await fetchWithoutToken( 'auth', {email,password},'POST');\n        const body = await resp.json();\n\n        if(body.ok ) {\n\n            localStorage.setItem('token',body.token);\n            localStorage.setItem('token-init-date', new Date().getTime() );\n\n            \n        }\n    }\n} \n\nconst login = (user) =>({\n    type: types.authLogin,\n    payload: user\n\n})"]},"metadata":{},"sourceType":"module"}