[{"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/index.js":"1","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/CalendarApp.js":"2","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/routers/AppRouter.js":"3","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/store/store.js":"4","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/auth/RegisterPage.js":"5","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/calendar/CalendarPage.js":"6","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/reducers/rootReducer.js":"7","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/auth/LoginPage.js":"8","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/calendar/CalendarEvent.js":"9","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/calendar/CalendarModal.js":"10","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/reducers/calendarReducer.js":"11","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/reducers/uiReducer.js":"12","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/ui/Navbar.js":"13","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/ui/AddNewFab.js":"14","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/ui/DeleteEventFab.js":"15","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/helpers/calendar-messages-es.js":"16","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/actions/ui.js":"17","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/actions/events.js":"18","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/types/types.js":"19","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/reducers/authReducer.js":"20","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/hooks/useForm.js":"21","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/actions/auth.js":"22","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/helpers/fetch.js":"23"},{"size":226,"mtime":1618349801238,"results":"24","hashOfConfig":"25"},{"size":314,"mtime":1617820447454,"results":"26","hashOfConfig":"25"},{"size":993,"mtime":1617747602529,"results":"27","hashOfConfig":"25"},{"size":404,"mtime":1617820541552,"results":"28","hashOfConfig":"25"},{"size":1913,"mtime":1618354256797,"results":"29","hashOfConfig":"25"},{"size":2711,"mtime":1617921215995,"results":"30","hashOfConfig":"25"},{"size":343,"mtime":1618279850667,"results":"31","hashOfConfig":"25"},{"size":1534,"mtime":1618354011866,"results":"32","hashOfConfig":"25"},{"size":263,"mtime":1617755819072,"results":"33","hashOfConfig":"25"},{"size":7511,"mtime":1617920861944,"results":"34","hashOfConfig":"25"},{"size":1901,"mtime":1618274542173,"results":"35","hashOfConfig":"25"},{"size":470,"mtime":1617819323208,"results":"36","hashOfConfig":"25"},{"size":412,"mtime":1617749773465,"results":"37","hashOfConfig":"25"},{"size":474,"mtime":1617913009435,"results":"38","hashOfConfig":"25"},{"size":578,"mtime":1618274619477,"results":"39","hashOfConfig":"25"},{"size":357,"mtime":1617754975218,"results":"40","hashOfConfig":"25"},{"size":191,"mtime":1617911137111,"results":"41","hashOfConfig":"25"},{"size":524,"mtime":1617918951346,"results":"42","hashOfConfig":"25"},{"size":659,"mtime":1618280081710,"results":"43","hashOfConfig":"25"},{"size":376,"mtime":1618353290330,"results":"44","hashOfConfig":"25"},{"size":437,"mtime":1618347410426,"results":"45","hashOfConfig":"25"},{"size":772,"mtime":1618354024034,"results":"46","hashOfConfig":"25"},{"size":489,"mtime":1618352941430,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1fqxy1l",{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"52"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/index.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/CalendarApp.js",[],["96","97"],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/routers/AppRouter.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/store/store.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/auth/RegisterPage.js",["98","99","100","101","102"],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/calendar/CalendarPage.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/reducers/rootReducer.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/auth/LoginPage.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/calendar/CalendarEvent.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/calendar/CalendarModal.js",["103"],"import React, { useEffect, useState } from 'react';\r\nimport Modal from 'react-modal';\r\nimport '../styles/components/modal.css';\r\nimport '../styles/components/Datepicker.css';\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nimport moment from '../../../node_modules/moment/moment';\r\nimport Swal from 'sweetalert2';\r\nimport DatePicker, { registerLocale } from 'react-datepicker';\r\nimport es from 'date-fns/locale/es';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { uiCloseModal } from '../../actions/ui';\r\nimport { eventAddNew, eventCleanEvent, eventUpdated } from '../../actions/events';\r\n\r\nregisterLocale('es', es);\r\n\r\nexport const CalendarModal = () => {\r\n\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const {modalOpen} = useSelector(state => state.ui)\r\n    const { activeEvent } = useSelector(state => state.calendar)\r\n\r\n\r\n    const Toast = Swal.mixin({\r\n        toast: true,\r\n        position: 'top-end',\r\n        showConfirmButton: false,\r\n        timer:3000,\r\n        timerProgressBar:true,\r\n        didOpen: (toast) => {\r\n            toast.addEventListener('mouseenter', Swal.stopTimer)\r\n            toast.addEventListener('mouseleave',Swal.resumeTimer)\r\n        }\r\n    })\r\n\r\n    \r\n    \r\n\r\n\r\n    const now = moment().minutes(0).second(0).add(1, 'hours');\r\n\r\n    const endTime = now.clone().add(1, 'hours');\r\n\r\n\r\n    const initEvent = {\r\n        \r\n        title: '',\r\n        notes: '',\r\n        start: now.toDate(),\r\n        end: endTime.toDate()\r\n    }\r\n\r\n    /////los esteis\r\n\r\n    const [titleValid, setTitleValid] = useState(true);\r\n\r\n    const [dateStart, setDateStart] = useState(now.toDate());\r\n\r\n    const [dateEnd, setDateEnd] = useState(endTime.toDate());\r\n\r\n    const [formValues, setFormValues] = useState( initEvent );\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if(activeEvent){\r\n\r\n            setFormValues(activeEvent);\r\n        } else{\r\n\r\n            setFormValues(initEvent);\r\n        }\r\n        \r\n       \r\n    }, [activeEvent, setFormValues ])\r\n\r\n\r\n\r\n\r\n\r\n    const customStyles = {\r\n\r\n        content: {\r\n            top: '50%',\r\n            left: '50%',\r\n            right: 'auto',\r\n            bottom: 'auto',\r\n            marginRight: '-50%',\r\n            transform: 'translate(-50%, -50%)'\r\n        }\r\n    };\r\n    Modal.setAppElement('#root');\r\n\r\n\r\n    const closeModal = () => {\r\n        console.log('Cerrar Modal')\r\n        dispatch(uiCloseModal());\r\n        dispatch(eventCleanEvent());\r\n        setFormValues( initEvent );\r\n        //TODO: Cerrar Modal\r\n\r\n\r\n\r\n    }\r\n\r\n    const { notes, title, start, end } = formValues;\r\n\r\n    const handleInputChange = ({ target }) => {\r\n\r\n        setFormValues({\r\n            ...formValues,\r\n            [target.name]: target.value\r\n        })\r\n    }\r\n\r\n    const handleStartDateChange = (e) => {\r\n        setDateStart(e);\r\n        setFormValues({\r\n            ...formValues,\r\n            start: e\r\n        });\r\n\r\n    }\r\n\r\n    const handleEndDateChange = (e) => {\r\n        setDateEnd(e);\r\n        setFormValues({\r\n            ...formValues,\r\n            end: e\r\n        });\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const momentStart = moment(start);\r\n        const momentEnd = moment(end);\r\n\r\n        if (momentStart.isSameOrAfter(momentEnd)) {\r\n\r\n            return Swal.fire('Error',\r\n             'La fecha fin debe ser mayor a la fecha de inicio',\r\n              'error');\r\n        }\r\n\r\n        if(title.trim().length <2 ){\r\n\r\n            Toast.fire({\r\n                icon:'error',\r\n                title:'Debe contener un titulo el evento'\r\n            })\r\n            return setTitleValid(false);\r\n            \r\n        }\r\n\r\n        // realizar update en bd\r\n\r\n        //actualizando\r\n        if( activeEvent){\r\n            dispatch(eventUpdated(formValues));\r\n        }else{\r\n\r\n            //creando uno nuevo\r\n            dispatch(eventAddNew({\r\n                ...formValues,\r\n                id: new Date().getTime(),\r\n                user:{\r\n                    _id: '9221',\r\n                    name:'Santiago Spencer',\r\n                }\r\n            }));\r\n\r\n\r\n        }\r\n      \r\n        Swal.fire('Guardado','Se a guardado tu nuevo evento','success');\r\n        setTitleValid(true);\r\n        closeModal();\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <Modal\r\n            isOpen={ modalOpen }\r\n            onRequestClose={closeModal}\r\n            style={customStyles}\r\n            closeTimeoutMS={400}\r\n            className=\"modal\"\r\n            overlayClassName=\"modal-fondo\"\r\n\r\n        >\r\n            <h1> { (activeEvent)? 'Editar Evento' : 'Nuevo evento'}</h1>\r\n            <hr />\r\n            <form\r\n                className=\"container\"\r\n                onSubmit={handleSubmit}>\r\n\r\n                <div className=\"form-group\">\r\n                    <label>Fecha y hora inicio</label>\r\n\r\n                    <DatePicker\r\n                        locale=\"es\"\r\n                        selected={dateStart}\r\n                        onChange={handleStartDateChange}\r\n                        className=\"form-control\"\r\n                        showTimeSelect\r\n                        timeFormat=\"HH:mm\"\r\n                        timeIntervals={20}\r\n                        timeCaption=\"time\"\r\n                        dateFormat=\"MMM d, yyyy h:mm aa\"\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n\r\n                    <label>Fecha y hora fin</label>\r\n                    <DatePicker\r\n                        locale=\"es\"\r\n                        onChange={handleEndDateChange}\r\n                        selected ={dateEnd}\r\n                        className={`form-control ${ !titleValid && 'is-invalid'} `}\r\n                        showTimeSelect\r\n                        timeFormat=\"HH:mm\"\r\n                        timeIntervals={20}\r\n                        timeCaption=\"time\"\r\n                        dateFormat=\"MMM d, yyyy h:mm aa\"\r\n                        minDate={dateStart}\r\n                    />\r\n                </div>\r\n\r\n                <hr />\r\n                <div className=\"form-group\">\r\n                    <label>Titulo y notas</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        placeholder=\"Título del evento\"\r\n                        name=\"title\"\r\n                        autoComplete=\"off\"\r\n                        value={title}\r\n                        onChange={handleInputChange}\r\n                    />\r\n                    <small id=\"emailHelp\" className=\"form-text text-muted\">Una descripción corta</small>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <textarea\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        placeholder=\"Notas\"\r\n                        rows=\"5\"\r\n                        name=\"notes\"\r\n                        value={notes}\r\n                        onChange={handleInputChange}\r\n                    ></textarea>\r\n                    <small id=\"emailHelp\" className=\"form-text text-muted\">Información adicional</small>\r\n                </div>\r\n\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-outline-primary btn-block\"\r\n                >\r\n                    <i className=\"far fa-save\"></i>\r\n                    <span> Guardar</span>\r\n                </button>\r\n\r\n            </form>\r\n        </Modal>\r\n    )\r\n}\r\n","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/reducers/calendarReducer.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/reducers/uiReducer.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/ui/Navbar.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/ui/AddNewFab.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/ui/DeleteEventFab.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/helpers/calendar-messages-es.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/actions/ui.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/actions/events.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/types/types.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/reducers/authReducer.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/hooks/useForm.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/actions/auth.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/helpers/fetch.js",[],{"ruleId":"104","replacedBy":"105"},{"ruleId":"106","replacedBy":"107"},{"ruleId":"108","severity":1,"message":"109","line":12,"column":32,"nodeType":"110","messageId":"111","endLine":12,"endColumn":57},{"ruleId":"108","severity":1,"message":"112","line":20,"column":12,"nodeType":"110","messageId":"111","endLine":20,"endColumn":17},{"ruleId":"108","severity":1,"message":"113","line":20,"column":18,"nodeType":"110","messageId":"111","endLine":20,"endColumn":24},{"ruleId":"108","severity":1,"message":"114","line":20,"column":25,"nodeType":"110","messageId":"111","endLine":20,"endColumn":34},{"ruleId":"108","severity":1,"message":"115","line":20,"column":35,"nodeType":"110","messageId":"111","endLine":20,"endColumn":45},{"ruleId":"116","severity":1,"message":"117","line":79,"column":8,"nodeType":"118","endLine":79,"endColumn":37,"suggestions":"119"},"no-native-reassign",["120"],"no-negated-in-lhs",["121"],"no-unused-vars","'handleRegisterInputChange' is assigned a value but never used.","Identifier","unusedVar","'rName' is assigned a value but never used.","'rEmail' is assigned a value but never used.","'rPassword' is assigned a value but never used.","'rPassword2' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'initEvent'. Either include it or remove the dependency array.","ArrayExpression",["122"],"no-global-assign","no-unsafe-negation",{"desc":"123","fix":"124"},"Update the dependencies array to be: [activeEvent, initEvent, setFormValues]",{"range":"125","text":"126"},[1966,1995],"[activeEvent, initEvent, setFormValues]"]