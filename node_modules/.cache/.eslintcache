[{"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/index.js":"1","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/CalendarApp.js":"2","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/store/store.js":"3","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/routers/AppRouter.js":"4","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/auth/LoginPage.js":"5","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/auth/RegisterPage.js":"6","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/calendar/CalendarPage.js":"7","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/reducers/rootReducer.js":"8","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/calendar/CalendarEvent.js":"9","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/calendar/CalendarModal.js":"10","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/reducers/calendarReducer.js":"11","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/reducers/uiReducer.js":"12","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/ui/Navbar.js":"13","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/ui/AddNewFab.js":"14","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/ui/DeleteEventFab.js":"15","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/actions/ui.js":"16","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/actions/events.js":"17","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/types/types.js":"18","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/hooks/UseForm.js":"19","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/reducers/authReducer.js":"20","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/actions/auth.js":"21","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/helpers/calendar-messages-es.js":"22","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/helpers/fetch.js":"23","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/ui/Loading.js":"24","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/routers/PublicRoute.js":"25","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/routers/PrivateRoutes.js":"26"},{"size":233,"mtime":1618764501685,"results":"27","hashOfConfig":"28"},{"size":314,"mtime":1617806048000,"results":"29","hashOfConfig":"28"},{"size":404,"mtime":1617806142000,"results":"30","hashOfConfig":"28"},{"size":1743,"mtime":1618803861825,"results":"31","hashOfConfig":"28"},{"size":2145,"mtime":1618792522545,"results":"32","hashOfConfig":"28"},{"size":2742,"mtime":1618797193309,"results":"33","hashOfConfig":"28"},{"size":2714,"mtime":1618792067474,"results":"34","hashOfConfig":"28"},{"size":321,"mtime":1618790959948,"results":"35","hashOfConfig":"28"},{"size":263,"mtime":1617741420000,"results":"36","hashOfConfig":"28"},{"size":7511,"mtime":1617906462000,"results":"37","hashOfConfig":"28"},{"size":1901,"mtime":1618760923079,"results":"38","hashOfConfig":"28"},{"size":470,"mtime":1617804924000,"results":"39","hashOfConfig":"28"},{"size":766,"mtime":1618804694883,"results":"40","hashOfConfig":"28"},{"size":474,"mtime":1617898610000,"results":"41","hashOfConfig":"28"},{"size":578,"mtime":1618760953451,"results":"42","hashOfConfig":"28"},{"size":191,"mtime":1617896738000,"results":"43","hashOfConfig":"28"},{"size":524,"mtime":1617904552000,"results":"44","hashOfConfig":"28"},{"size":550,"mtime":1618797769010,"results":"45","hashOfConfig":"28"},{"size":412,"mtime":1618763882309,"results":"46","hashOfConfig":"28"},{"size":567,"mtime":1618804591254,"results":"47","hashOfConfig":"28"},{"size":2060,"mtime":1618804510006,"results":"48","hashOfConfig":"28"},{"size":357,"mtime":1617740576000,"results":"49","hashOfConfig":"28"},{"size":1095,"mtime":1618798073764,"results":"50","hashOfConfig":"28"},{"size":272,"mtime":1618802377231,"results":"51","hashOfConfig":"28"},{"size":549,"mtime":1618803110907,"results":"52","hashOfConfig":"28"},{"size":773,"mtime":1618803218160,"results":"53","hashOfConfig":"28"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},"1fqxy1l",{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"56"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/index.js",[],["108","109"],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/CalendarApp.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/store/store.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/routers/AppRouter.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/auth/LoginPage.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/auth/RegisterPage.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/calendar/CalendarPage.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/reducers/rootReducer.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/calendar/CalendarEvent.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/calendar/CalendarModal.js",["110"],"import React, { useEffect, useState } from 'react';\r\nimport Modal from 'react-modal';\r\nimport '../styles/components/modal.css';\r\nimport '../styles/components/Datepicker.css';\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nimport moment from '../../../node_modules/moment/moment';\r\nimport Swal from 'sweetalert2';\r\nimport DatePicker, { registerLocale } from 'react-datepicker';\r\nimport es from 'date-fns/locale/es';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { uiCloseModal } from '../../actions/ui';\r\nimport { eventAddNew, eventCleanEvent, eventUpdated } from '../../actions/events';\r\n\r\nregisterLocale('es', es);\r\n\r\nexport const CalendarModal = () => {\r\n\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const {modalOpen} = useSelector(state => state.ui)\r\n    const { activeEvent } = useSelector(state => state.calendar)\r\n\r\n\r\n    const Toast = Swal.mixin({\r\n        toast: true,\r\n        position: 'top-end',\r\n        showConfirmButton: false,\r\n        timer:3000,\r\n        timerProgressBar:true,\r\n        didOpen: (toast) => {\r\n            toast.addEventListener('mouseenter', Swal.stopTimer)\r\n            toast.addEventListener('mouseleave',Swal.resumeTimer)\r\n        }\r\n    })\r\n\r\n    \r\n    \r\n\r\n\r\n    const now = moment().minutes(0).second(0).add(1, 'hours');\r\n\r\n    const endTime = now.clone().add(1, 'hours');\r\n\r\n\r\n    const initEvent = {\r\n        \r\n        title: '',\r\n        notes: '',\r\n        start: now.toDate(),\r\n        end: endTime.toDate()\r\n    }\r\n\r\n    /////los esteis\r\n\r\n    const [titleValid, setTitleValid] = useState(true);\r\n\r\n    const [dateStart, setDateStart] = useState(now.toDate());\r\n\r\n    const [dateEnd, setDateEnd] = useState(endTime.toDate());\r\n\r\n    const [formValues, setFormValues] = useState( initEvent );\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if(activeEvent){\r\n\r\n            setFormValues(activeEvent);\r\n        } else{\r\n\r\n            setFormValues(initEvent);\r\n        }\r\n        \r\n       \r\n    }, [activeEvent, setFormValues ])\r\n\r\n\r\n\r\n\r\n\r\n    const customStyles = {\r\n\r\n        content: {\r\n            top: '50%',\r\n            left: '50%',\r\n            right: 'auto',\r\n            bottom: 'auto',\r\n            marginRight: '-50%',\r\n            transform: 'translate(-50%, -50%)'\r\n        }\r\n    };\r\n    Modal.setAppElement('#root');\r\n\r\n\r\n    const closeModal = () => {\r\n        console.log('Cerrar Modal')\r\n        dispatch(uiCloseModal());\r\n        dispatch(eventCleanEvent());\r\n        setFormValues( initEvent );\r\n        //TODO: Cerrar Modal\r\n\r\n\r\n\r\n    }\r\n\r\n    const { notes, title, start, end } = formValues;\r\n\r\n    const handleInputChange = ({ target }) => {\r\n\r\n        setFormValues({\r\n            ...formValues,\r\n            [target.name]: target.value\r\n        })\r\n    }\r\n\r\n    const handleStartDateChange = (e) => {\r\n        setDateStart(e);\r\n        setFormValues({\r\n            ...formValues,\r\n            start: e\r\n        });\r\n\r\n    }\r\n\r\n    const handleEndDateChange = (e) => {\r\n        setDateEnd(e);\r\n        setFormValues({\r\n            ...formValues,\r\n            end: e\r\n        });\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const momentStart = moment(start);\r\n        const momentEnd = moment(end);\r\n\r\n        if (momentStart.isSameOrAfter(momentEnd)) {\r\n\r\n            return Swal.fire('Error',\r\n             'La fecha fin debe ser mayor a la fecha de inicio',\r\n              'error');\r\n        }\r\n\r\n        if(title.trim().length <2 ){\r\n\r\n            Toast.fire({\r\n                icon:'error',\r\n                title:'Debe contener un titulo el evento'\r\n            })\r\n            return setTitleValid(false);\r\n            \r\n        }\r\n\r\n        // realizar update en bd\r\n\r\n        //actualizando\r\n        if( activeEvent){\r\n            dispatch(eventUpdated(formValues));\r\n        }else{\r\n\r\n            //creando uno nuevo\r\n            dispatch(eventAddNew({\r\n                ...formValues,\r\n                id: new Date().getTime(),\r\n                user:{\r\n                    _id: '9221',\r\n                    name:'Santiago Spencer',\r\n                }\r\n            }));\r\n\r\n\r\n        }\r\n      \r\n        Swal.fire('Guardado','Se a guardado tu nuevo evento','success');\r\n        setTitleValid(true);\r\n        closeModal();\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <Modal\r\n            isOpen={ modalOpen }\r\n            onRequestClose={closeModal}\r\n            style={customStyles}\r\n            closeTimeoutMS={400}\r\n            className=\"modal\"\r\n            overlayClassName=\"modal-fondo\"\r\n\r\n        >\r\n            <h1> { (activeEvent)? 'Editar Evento' : 'Nuevo evento'}</h1>\r\n            <hr />\r\n            <form\r\n                className=\"container\"\r\n                onSubmit={handleSubmit}>\r\n\r\n                <div className=\"form-group\">\r\n                    <label>Fecha y hora inicio</label>\r\n\r\n                    <DatePicker\r\n                        locale=\"es\"\r\n                        selected={dateStart}\r\n                        onChange={handleStartDateChange}\r\n                        className=\"form-control\"\r\n                        showTimeSelect\r\n                        timeFormat=\"HH:mm\"\r\n                        timeIntervals={20}\r\n                        timeCaption=\"time\"\r\n                        dateFormat=\"MMM d, yyyy h:mm aa\"\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n\r\n                    <label>Fecha y hora fin</label>\r\n                    <DatePicker\r\n                        locale=\"es\"\r\n                        onChange={handleEndDateChange}\r\n                        selected ={dateEnd}\r\n                        className={`form-control ${ !titleValid && 'is-invalid'} `}\r\n                        showTimeSelect\r\n                        timeFormat=\"HH:mm\"\r\n                        timeIntervals={20}\r\n                        timeCaption=\"time\"\r\n                        dateFormat=\"MMM d, yyyy h:mm aa\"\r\n                        minDate={dateStart}\r\n                    />\r\n                </div>\r\n\r\n                <hr />\r\n                <div className=\"form-group\">\r\n                    <label>Titulo y notas</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        placeholder=\"Título del evento\"\r\n                        name=\"title\"\r\n                        autoComplete=\"off\"\r\n                        value={title}\r\n                        onChange={handleInputChange}\r\n                    />\r\n                    <small id=\"emailHelp\" className=\"form-text text-muted\">Una descripción corta</small>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <textarea\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        placeholder=\"Notas\"\r\n                        rows=\"5\"\r\n                        name=\"notes\"\r\n                        value={notes}\r\n                        onChange={handleInputChange}\r\n                    ></textarea>\r\n                    <small id=\"emailHelp\" className=\"form-text text-muted\">Información adicional</small>\r\n                </div>\r\n\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-outline-primary btn-block\"\r\n                >\r\n                    <i className=\"far fa-save\"></i>\r\n                    <span> Guardar</span>\r\n                </button>\r\n\r\n            </form>\r\n        </Modal>\r\n    )\r\n}\r\n","/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/reducers/calendarReducer.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/reducers/uiReducer.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/ui/Navbar.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/ui/AddNewFab.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/ui/DeleteEventFab.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/actions/ui.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/actions/events.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/types/types.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/hooks/UseForm.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/reducers/authReducer.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/actions/auth.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/helpers/calendar-messages-es.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/helpers/fetch.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/ui/Loading.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/routers/PublicRoute.js",[],"/home/sspencer/Escritorio/Proyectos/React/calendar-app/src/components/routers/PrivateRoutes.js",[],{"ruleId":"111","replacedBy":"112"},{"ruleId":"113","replacedBy":"114"},{"ruleId":"115","severity":1,"message":"116","line":79,"column":8,"nodeType":"117","endLine":79,"endColumn":37,"suggestions":"118"},"no-native-reassign",["119"],"no-negated-in-lhs",["120"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'initEvent'. Either include it or remove the dependency array.","ArrayExpression",["121"],"no-global-assign","no-unsafe-negation",{"desc":"122","fix":"123"},"Update the dependencies array to be: [activeEvent, initEvent, setFormValues]",{"range":"124","text":"125"},[1966,1995],"[activeEvent, initEvent, setFormValues]"]